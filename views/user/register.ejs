<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Register</title>
    <!-- plugins:css -->
    <link
      rel="stylesheet"
      href="../../admin/vendors/iconfonts/mdi/css/materialdesignicons.min.css"
    />
    <link
      rel="stylesheet"
      href="../../admin/vendors/iconfonts/ionicons/dist/css/ionicons.css"
    />
    <link
      rel="stylesheet"
      href="../../admin/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css"
    />
    <link
      rel="stylesheet"
      href="../../admin/vendors/css/vendor.bundle.base.css"
    />
    <link
      rel="stylesheet"
      href="../../admin/vendors/css/vendor.bundle.addons.css"
    />
    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../admin/css/shared/style.css" />
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="../../admin/css/demo_1/style.css" />
    <!-- End Layout styles -->
    <link rel="shortcut icon" href="../../admin/images/favicon.png" />
    <style>
      p {
        color: red;
        font-size: 12px;
      }
    </style>
  </head>

  <body style="background-image: url('../../admin/images/background.png')">
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div
          class="content-wrapper d-flex align-items-center auth register-bg-1 theme-one"
        >
          <div class="row w-100">
            <div class="col-lg-4 mx-auto">
              <h2 class="text-center mb-4">Register</h2>
              <div class="auto-form-wrapper">
                <form action="/registerPost" method="post" id="registerForm">
                  <div class="form-group">
                    <div class="input-group">
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Username"
                        name="name"
                        id="nameInput"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <!-- <i class="mdi mdi-check-circle-outline"></i> -->
                        </span>
                      </div>
                    </div>
                    <p id="nameError"></p>
                  </div>
                  <div class="form-group">
                    <div class="input-group">
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Email"
                        name="email"
                        id="emailInput"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <!-- <i class="mdi mdi-check-circle-outline"></i> -->
                        </span>
                      </div>
                    </div>
                    <p id="emailError"></p>
                  </div>
                  <div class="form-group">
                    <div class="input-group">
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Phone number"
                        name="number"
                        id="phoneNumberInput"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <!-- <i class="mdi mdi-check-circle-outline"></i> -->
                        </span>
                      </div>
                    </div>
                    <p id="numberError"></p>
                  </div>
                  <div class="form-group">
                    <div class="input-group">
                      <input
                        type="password"
                        class="form-control"
                        placeholder="Password"
                        name="spassword"
                        id="passwordInput"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <!-- <i class="mdi mdi-check-circle-outline"></i> -->
                        </span>
                      </div>
                    </div>
                    <p id="passwordError"></p>
                  </div>
                  <div class="form-group">
                    <div class="input-group">
                      <input
                        type="password"
                        class="form-control"
                        placeholder="Confirm Password"
                        name="cpassword"
                        id="confirmPasswordInput"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <!-- <i class="mdi mdi-check-circle-outline"></i> -->
                        </span>
                      </div>
                    </div>
                    <p id="confirmPasswordError"></p>
                  </div>
                  <div class="form-group">
                    <button
                      class="btn btn-primary submit-btn btn-block"
                      style="
                        background-color: #8bb471;
                        border: 1px solid #8bb471;
                        color: white;
                      "
                      id="registerButton"
                    >
                      Register
                    </button>
                  </div>
                  <div class="text-block text-center my-3">
                    <span class="text-small font-weight-semibold"
                      >Already have an account ?</span
                    >
                    <a href="/login" class="text-black text-small">Login</a>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>

    <script>
      document
        .getElementById("registerForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          var name = document.getElementById("nameInput").value;
          var email = document.getElementById("emailInput").value;
          var phoneNumber = document.getElementById("phoneNumberInput").value;
          var password = document.getElementById("passwordInput").value;
          var confirmPassword = document.getElementById(
            "confirmPasswordInput"
          ).value;

          var nameError = document.getElementById("nameError");
          var emailError = document.getElementById("emailError");
          var phoneNumberError = document.getElementById("numberError");
          var passwordError = document.getElementById("passwordError");
          var confirmPasswordError = document.getElementById(
            "confirmPasswordError"
          );

          nameError.innerHTML = "";
          emailError.innerHTML = "";
          phoneNumberError.innerHTML = "";
          passwordError.innerHTML = "";
          confirmPasswordError.innerHTML = "";

          var isValid = true;

          if (name.trim() === "" || name.length < 3) {
            nameError.innerHTML = "Name must be at least 3 characters long";
            isValid = false;
          }

          if (email.trim() === "" || !isValidEmail(email)) {
            emailError.innerHTML = "Please enter a valid email address";
            isValid = false;
          }

          if (phoneNumber.trim() === "") {
            phoneNumberError.innerHTML = "Please enter a phone number";
            isValid = false;
          }

          if (password.trim() === "" || password.length < 5) {
            passwordError.innerHTML =
              "Password must be at least 5 characters long";
            isValid = false;
          }

          if (confirmPassword !== password) {
            confirmPasswordError.innerHTML = "Passwords do not match";
            isValid = false;
          }

          if (isValid) {
            this.submit();
          }
        });

      function isValidEmail(email) {
        var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        return emailRegex.test(email);
      }
    </script>

    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../admin/vendors/js/vendor.bundle.base.js"></script>
    <script src="../../admin/vendors/js/vendor.bundle.addons.js"></script>
    <!-- endinject -->
    <!-- inject:js -->
    <script src="../../admin/js/shared/off-canvas.js"></script>
    <script src="../../admin/js/shared/misc.js"></script>
    <!-- endinject -->
    <script
      src="../../admin/js/shared/jquery.cookie.js"
      type="text/javascript"
    ></script>
    <!-- validation js -->
    <script src="/user/js/login.js"></script>
  </body>
</html>
